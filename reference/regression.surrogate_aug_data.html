<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Augment the training data and the explicands — regression.surrogate_aug_data • shapr</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Augment the training data and the explicands — regression.surrogate_aug_data"><meta name="description" content="Augment the training data and the explicands"><meta property="og:description" content="Augment the training data and the explicands"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shapr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/general_usage.html">General usage of shapr</a></li>
    <li><a class="dropdown-item" href="../articles/vaeac.html">Advanced usage of the `vaeac` approach</a></li>
    <li><a class="dropdown-item" href="../articles/regression.html">The separate and surrogate regression approches</a></li>
    <li><a class="dropdown-item" href="../articles/asymmetric_causal.html">Asymmetric and Causal Shapley values</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Manual</a></li>
<li class="nav-item"><a class="nav-link" href="../shaprpy.html">Python</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NorskRegnesentral/shapr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Augment the training data and the explicands</h1>
      <small class="dont-index">Source: <a href="https://github.com/NorskRegnesentral/shapr/blob/master/R/approach_regression_surrogate.R" class="external-link"><code>R/approach_regression_surrogate.R</code></a></small>
      <div class="d-none name"><code>regression.surrogate_aug_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Augment the training data and the explicands</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">regression.surrogate_aug_data</span><span class="op">(</span></span>
<span>  <span class="va">internal</span>,</span>
<span>  <span class="va">x</span>,</span>
<span>  y_hat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  index_features <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  augment_masks_as_factor <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  augment_include_grand <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  augment_add_id_coal <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  augment_comb_prob <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  augment_weights <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-internal">internal<a class="anchor" aria-label="anchor" href="#arg-internal"></a></dt>
<dd><p>List.
Holds all parameters, data, functions and computed objects used within <code><a href="explain.html">explain()</a></code>
The list contains one or more of the elements <code>parameters</code>, <code>data</code>, <code>objects</code>, <code>iter_list</code>, <code>timing_list</code>,
<code>main_timing_list</code>, <code>output</code>, and <code>iter_timing_list</code>.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Data.table containing the training data.</p></dd>


<dt id="arg-y-hat">y_hat<a class="anchor" aria-label="anchor" href="#arg-y-hat"></a></dt>
<dd><p>Vector of numerics (optional) containing the predicted responses for the observations in <code>x</code>.</p></dd>


<dt id="arg-index-features">index_features<a class="anchor" aria-label="anchor" href="#arg-index-features"></a></dt>
<dd><p>Array of integers (optional) containing which coalitions to consider. Must be provided if
<code>x</code> is the explicands.</p></dd>


<dt id="arg-augment-masks-as-factor">augment_masks_as_factor<a class="anchor" aria-label="anchor" href="#arg-augment-masks-as-factor"></a></dt>
<dd><p>Logical (default is <code>FALSE</code>). If <code>TRUE</code>, then the binary masks are converted
to factors. If <code>FALSE</code>, then the binary masks are numerics.</p></dd>


<dt id="arg-augment-include-grand">augment_include_grand<a class="anchor" aria-label="anchor" href="#arg-augment-include-grand"></a></dt>
<dd><p>Logical (default is <code>FALSE</code>). If <code>TRUE</code>, then the grand coalition is included.
If <code>index_features</code> are provided, then <code>augment_include_grand</code> has no effect. Note that if we sample the
coalitions then the grand coalition is equally likely to be samples as the other coalitions (or weighted if
<code>augment_comb_prob</code> is provided).</p></dd>


<dt id="arg-augment-add-id-coal">augment_add_id_coal<a class="anchor" aria-label="anchor" href="#arg-augment-add-id-coal"></a></dt>
<dd><p>Logical (default is <code>FALSE</code>). If <code>TRUE</code>, an additional column is adding containing
which coalition was applied.</p></dd>


<dt id="arg-augment-comb-prob">augment_comb_prob<a class="anchor" aria-label="anchor" href="#arg-augment-comb-prob"></a></dt>
<dd><p>Array of numerics (default is <code>NULL</code>). The length of the array must match the number of
coalitions being considered, where each entry specifies the probability of sampling the corresponding coalition.
This is useful if we want to generate more training data for some specific coalitions. One possible choice would be
<code>augment_comb_prob = if (use_Shapley_weights) internal$objects$X$shapley_weight[2:actual_n_coalitions] else NULL</code>.</p></dd>


<dt id="arg-augment-weights">augment_weights<a class="anchor" aria-label="anchor" href="#arg-augment-weights"></a></dt>
<dd><p>String (optional). Specifying which type of weights to add to the observations.
If <code>NULL</code> (default), then no weights are added. If <code>"Shapley"</code>, then the Shapley weights for the different
coalitions are added to corresponding observations where the coalitions was applied. If <code>uniform</code>, then
all observations get an equal weight of one.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data.table containing the augmented data.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Lars Henry Berge Olsen</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Jullum, Lars Henry Berge Olsen, Annabelle Redelmeier, Jon Lachmann, Nikolai Sellereite, Norsk Regnesentral.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

