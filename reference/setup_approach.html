<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Set up the framework chosen approach — setup_approach • shapr</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Set up the framework chosen approach — setup_approach"><meta name="description" content="The different choices of approach take different (optional) parameters,
which are forwarded from explain().
See the general usage vignette
for more information about the different approaches."><meta property="og:description" content="The different choices of approach take different (optional) parameters,
which are forwarded from explain().
See the general usage vignette
for more information about the different approaches."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shapr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/general_usage.html">General usage of shapr</a></li>
    <li><a class="dropdown-item" href="../articles/vaeac.html">Advanced usage of the `vaeac` approach</a></li>
    <li><a class="dropdown-item" href="../articles/regression.html">The separate and surrogate regression approches</a></li>
    <li><a class="dropdown-item" href="../articles/asymmetric_causal.html">Asymmetric and Causal Shapley values</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Manual</a></li>
<li class="nav-item"><a class="nav-link" href="../shaprpy.html">Python</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NorskRegnesentral/shapr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Set up the framework chosen approach</h1>
      <small class="dont-index">Source: <a href="https://github.com/NorskRegnesentral/shapr/blob/master/R/approach.R" class="external-link"><code>R/approach.R</code></a>, <a href="https://github.com/NorskRegnesentral/shapr/blob/master/R/approach_categorical.R" class="external-link"><code>R/approach_categorical.R</code></a>, <a href="https://github.com/NorskRegnesentral/shapr/blob/master/R/approach_copula.R" class="external-link"><code>R/approach_copula.R</code></a>, and 8 more</small>
      <div class="d-none name"><code>setup_approach.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The different choices of <code>approach</code> take different (optional) parameters,
which are forwarded from <code><a href="explain.html">explain()</a></code>.
See the <a href="https://norskregnesentral.github.io/shapr/articles/general_usage.html">general usage vignette</a>
for more information about the different approaches.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">setup_approach</span><span class="op">(</span><span class="va">internal</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'combined'</span></span>
<span><span class="fu">setup_approach</span><span class="op">(</span><span class="va">internal</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'categorical'</span></span>
<span><span class="fu">setup_approach</span><span class="op">(</span></span>
<span>  <span class="va">internal</span>,</span>
<span>  categorical.joint_prob_dt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  categorical.epsilon <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'copula'</span></span>
<span><span class="fu">setup_approach</span><span class="op">(</span><span class="va">internal</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ctree'</span></span>
<span><span class="fu">setup_approach</span><span class="op">(</span></span>
<span>  <span class="va">internal</span>,</span>
<span>  ctree.mincriterion <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  ctree.minsplit <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  ctree.minbucket <span class="op">=</span> <span class="fl">7</span>,</span>
<span>  ctree.sample <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'empirical'</span></span>
<span><span class="fu">setup_approach</span><span class="op">(</span></span>
<span>  <span class="va">internal</span>,</span>
<span>  empirical.type <span class="op">=</span> <span class="st">"fixed_sigma"</span>,</span>
<span>  empirical.eta <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  empirical.fixed_sigma <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  empirical.n_samples_aicc <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  empirical.eval_max_aicc <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  empirical.start_aicc <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  empirical.cov_mat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  predict_model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'gaussian'</span></span>
<span><span class="fu">setup_approach</span><span class="op">(</span><span class="va">internal</span>, gaussian.mu <span class="op">=</span> <span class="cn">NULL</span>, gaussian.cov_mat <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'independence'</span></span>
<span><span class="fu">setup_approach</span><span class="op">(</span><span class="va">internal</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'regression_separate'</span></span>
<span><span class="fu">setup_approach</span><span class="op">(</span></span>
<span>  <span class="va">internal</span>,</span>
<span>  regression.model <span class="op">=</span> <span class="fu">parsnip</span><span class="fu">::</span><span class="fu"><a href="https://parsnip.tidymodels.org/reference/linear_reg.html" class="external-link">linear_reg</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  regression.tune_values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  regression.vfold_cv_para <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  regression.recipe_func <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'regression_surrogate'</span></span>
<span><span class="fu">setup_approach</span><span class="op">(</span></span>
<span>  <span class="va">internal</span>,</span>
<span>  regression.model <span class="op">=</span> <span class="fu">parsnip</span><span class="fu">::</span><span class="fu"><a href="https://parsnip.tidymodels.org/reference/linear_reg.html" class="external-link">linear_reg</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  regression.tune_values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  regression.vfold_cv_para <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  regression.recipe_func <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  regression.surrogate_n_comb <span class="op">=</span></span>
<span>    <span class="va">internal</span><span class="op">$</span><span class="va">iter_list</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">internal</span><span class="op">$</span><span class="va">iter_list</span><span class="op">)</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">n_coalitions</span> <span class="op">-</span> <span class="fl">2</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'timeseries'</span></span>
<span><span class="fu">setup_approach</span><span class="op">(</span></span>
<span>  <span class="va">internal</span>,</span>
<span>  timeseries.fixed_sigma <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  timeseries.bounds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vaeac'</span></span>
<span><span class="fu">setup_approach</span><span class="op">(</span></span>
<span>  <span class="va">internal</span>,</span>
<span>  vaeac.depth <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  vaeac.width <span class="op">=</span> <span class="fl">32</span>,</span>
<span>  vaeac.latent_dim <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  vaeac.activation_function <span class="op">=</span> <span class="fu">torch</span><span class="fu">::</span><span class="va"><a href="https://torch.mlverse.org/docs/reference/nn_relu.html" class="external-link">nn_relu</a></span>,</span>
<span>  vaeac.lr <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  vaeac.n_vaeacs_initialize <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  vaeac.epochs <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  vaeac.extra_parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-internal">internal<a class="anchor" aria-label="anchor" href="#arg-internal"></a></dt>
<dd><p>List.
Not used directly, but passed through from <code><a href="explain.html">explain()</a></code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed to specific classes. See below</p></dd>


<dt id="arg-categorical-joint-prob-dt">categorical.joint_prob_dt<a class="anchor" aria-label="anchor" href="#arg-categorical-joint-prob-dt"></a></dt>
<dd><p>Data.table. (Optional)
Containing the joint probability distribution for each combination of feature
values.
<code>NULL</code> means it is estimated from the <code>x_train</code> and <code>x_explain</code>.</p></dd>


<dt id="arg-categorical-epsilon">categorical.epsilon<a class="anchor" aria-label="anchor" href="#arg-categorical-epsilon"></a></dt>
<dd><p>Numeric value. (Optional)
If <code>categorical.joint_probability_dt</code> is not supplied, probabilities/frequencies are
estimated using <code>x_train</code>. If certain observations occur in <code>x_explain</code> and NOT in <code>x_train</code>,
then epsilon is used as the proportion of times that these observations occurs in the training data.
In theory, this proportion should be zero, but this causes an error later in the Shapley computation.</p></dd>


<dt id="arg-ctree-mincriterion">ctree.mincriterion<a class="anchor" aria-label="anchor" href="#arg-ctree-mincriterion"></a></dt>
<dd><p>Numeric scalar or vector.
Either a scalar or vector of length equal to the number of features in the model.
The value is equal to 1 - \(\alpha\) where \(\alpha\) is the nominal level of the conditional independence tests.
If it is a vector, this indicates which value to use when conditioning on various numbers of features.
The default value is 0.95.</p></dd>


<dt id="arg-ctree-minsplit">ctree.minsplit<a class="anchor" aria-label="anchor" href="#arg-ctree-minsplit"></a></dt>
<dd><p>Numeric scalar.
Determines minimum value that the sum of the left and right daughter nodes required for a split.
The default value is 20.</p></dd>


<dt id="arg-ctree-minbucket">ctree.minbucket<a class="anchor" aria-label="anchor" href="#arg-ctree-minbucket"></a></dt>
<dd><p>Numeric scalar.
Determines the minimum sum of weights in a terminal node required for a split
The default value is 7.</p></dd>


<dt id="arg-ctree-sample">ctree.sample<a class="anchor" aria-label="anchor" href="#arg-ctree-sample"></a></dt>
<dd><p>Boolean.
If <code>TRUE</code> (default), then the method always samples <code>n_MC_samples</code> observations from the leaf nodes
(with replacement).
If <code>FALSE</code> and the number of observations in the leaf node is less than <code>n_MC_samples</code>,
the method will take all observations in the leaf.
If <code>FALSE</code> and the number of observations in the leaf node is more than <code>n_MC_samples</code>,
the method will sample <code>n_MC_samples</code> observations (with replacement).
This means that there will always be sampling in the leaf unless
<code>sample = FALSE</code> <em>and</em> the number of obs in the node is less than <code>n_MC_samples</code>.</p></dd>


<dt id="arg-empirical-type">empirical.type<a class="anchor" aria-label="anchor" href="#arg-empirical-type"></a></dt>
<dd><p>Character. (default = <code>"fixed_sigma"</code>)
Should be equal to either <code>"independence"</code>,<code>"fixed_sigma"</code>, <code>"AICc_each_k"</code> <code>"AICc_full"</code>.
<code>"independence"</code> is deprecated. Use <code>approach = "independence"</code> instead.
<code>"fixed_sigma"</code> uses a fixed bandwidth (set through <code>empirical.fixed_sigma</code>) in the kernel density estimation.
<code>"AICc_each_k"</code> and <code>"AICc_full"</code> optimize the bandwidth using the AICc criterion, with respectively
one bandwidth per coalition size and one bandwidth for all coalition sizes.</p></dd>


<dt id="arg-empirical-eta">empirical.eta<a class="anchor" aria-label="anchor" href="#arg-empirical-eta"></a></dt>
<dd><p>Numeric scalar.
Needs to be <code>0 &lt; eta &lt;= 1</code>.
The default value is 0.95.
Represents the minimum proportion of the total empirical weight that data samples should use.
If e.g. <code>eta = .8</code> we will choose the <code>K</code> samples with the largest weight so that the sum of the weights
accounts for 80\<!-- % of the total weight. -->
<code>eta</code> is the \(\eta\) parameter in equation (15) of
<a href="https://martinjullum.com/publication/aas-2021-explaining/aas-2021-explaining.pdf" class="external-link">Aas et al. (2021)</a>.</p></dd>


<dt id="arg-empirical-fixed-sigma">empirical.fixed_sigma<a class="anchor" aria-label="anchor" href="#arg-empirical-fixed-sigma"></a></dt>
<dd><p>Positive numeric scalar.
The default value is 0.1.
Represents the kernel bandwidth in the distance computation used when conditioning on all different coalitions.
Only used when <code>empirical.type = "fixed_sigma"</code></p></dd>


<dt id="arg-empirical-n-samples-aicc">empirical.n_samples_aicc<a class="anchor" aria-label="anchor" href="#arg-empirical-n-samples-aicc"></a></dt>
<dd><p>Positive integer.
Number of samples to consider in AICc optimization.
The default value is 1000.
Only used for <code>empirical.type</code> is either <code>"AICc_each_k"</code> or <code>"AICc_full"</code>.</p></dd>


<dt id="arg-empirical-eval-max-aicc">empirical.eval_max_aicc<a class="anchor" aria-label="anchor" href="#arg-empirical-eval-max-aicc"></a></dt>
<dd><p>Positive integer.
Maximum number of iterations when optimizing the AICc.
The default value is 20.
Only used for <code>empirical.type</code> is either <code>"AICc_each_k"</code> or <code>"AICc_full"</code>.</p></dd>


<dt id="arg-empirical-start-aicc">empirical.start_aicc<a class="anchor" aria-label="anchor" href="#arg-empirical-start-aicc"></a></dt>
<dd><p>Numeric.
Start value of the <code>sigma</code> parameter when optimizing the AICc.
The default value is 0.1.
Only used for <code>empirical.type</code> is either <code>"AICc_each_k"</code> or <code>"AICc_full"</code>.</p></dd>


<dt id="arg-empirical-cov-mat">empirical.cov_mat<a class="anchor" aria-label="anchor" href="#arg-empirical-cov-mat"></a></dt>
<dd><p>Numeric matrix. (Optional)
The covariance matrix of the data generating distribution used to define the Mahalanobis distance.
<code>NULL</code> means it is estimated from <code>x_train</code>.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>Objects.
The model object that ought to be explained.
See the documentation of <code><a href="explain.html">explain()</a></code> for details.</p></dd>


<dt id="arg-predict-model">predict_model<a class="anchor" aria-label="anchor" href="#arg-predict-model"></a></dt>
<dd><p>Function.
The prediction function used when <code>model</code> is not natively supported.
See the documentation of <code><a href="explain.html">explain()</a></code> for details.</p></dd>


<dt id="arg-gaussian-mu">gaussian.mu<a class="anchor" aria-label="anchor" href="#arg-gaussian-mu"></a></dt>
<dd><p>Numeric vector. (Optional)
Containing the mean of the data generating distribution.
<code>NULL</code> means it is estimated from the <code>x_train</code>.</p></dd>


<dt id="arg-gaussian-cov-mat">gaussian.cov_mat<a class="anchor" aria-label="anchor" href="#arg-gaussian-cov-mat"></a></dt>
<dd><p>Numeric matrix. (Optional)
Containing the covariance matrix of the data generating distribution.
<code>NULL</code> means it is estimated from the <code>x_train</code>.</p></dd>


<dt id="arg-regression-model">regression.model<a class="anchor" aria-label="anchor" href="#arg-regression-model"></a></dt>
<dd><p>A <code>tidymodels</code> object of class <code>model_specs</code>. Default is a linear regression model, i.e.,
<code><a href="https://parsnip.tidymodels.org/reference/linear_reg.html" class="external-link">parsnip::linear_reg()</a></code>. See <a href="https://www.tidymodels.org/find/parsnip/" class="external-link">tidymodels</a> for all possible models,
and see the vignette for how to add new/own models. Note, to make it easier to call <code><a href="explain.html">explain()</a></code> from Python, the
<code>regression.model</code> parameter can also be a string specifying the model which will be parsed and evaluated. For
example, <code>"parsnip::rand_forest(mtry = hardhat::tune(), trees = 100, engine = "ranger", mode = "regression")"</code>
is also a valid input. It is essential to include the package prefix if the package is not loaded.</p></dd>


<dt id="arg-regression-tune-values">regression.tune_values<a class="anchor" aria-label="anchor" href="#arg-regression-tune-values"></a></dt>
<dd><p>Either <code>NULL</code> (default), a data.frame/data.table/tibble, or a function.
The data.frame must contain the possible hyperparameter value combinations to try.
The column names must match the names of the tunable parameters specified in <code>regression.model</code>.
If <code>regression.tune_values</code> is a function, then it should take one argument <code>x</code> which is the training data
for the current coalition and returns a data.frame/data.table/tibble with the properties described above.
Using a function allows the hyperparameter values to change based on the size of the coalition See the regression
vignette for several examples.
Note, to make it easier to call <code><a href="explain.html">explain()</a></code> from Python, the <code>regression.tune_values</code> can also be a string
containing an R function. For example,
<code>"function(x) return(dials::grid_regular(dials::mtry(c(1, ncol(x)))), levels = 3))"</code> is also a valid input.
It is essential to include the package prefix if the package is not loaded.</p></dd>


<dt id="arg-regression-vfold-cv-para">regression.vfold_cv_para<a class="anchor" aria-label="anchor" href="#arg-regression-vfold-cv-para"></a></dt>
<dd><p>Either <code>NULL</code> (default) or a named list containing
the parameters to be sent to <code><a href="https://rsample.tidymodels.org/reference/vfold_cv.html" class="external-link">rsample::vfold_cv()</a></code>. See the regression vignette for
several examples.</p></dd>


<dt id="arg-regression-recipe-func">regression.recipe_func<a class="anchor" aria-label="anchor" href="#arg-regression-recipe-func"></a></dt>
<dd><p>Either <code>NULL</code> (default) or a function that that takes in a <code><a href="https://recipes.tidymodels.org/reference/recipe.html" class="external-link">recipes::recipe()</a></code>
object and returns a modified <code><a href="https://recipes.tidymodels.org/reference/recipe.html" class="external-link">recipes::recipe()</a></code> with potentially additional recipe steps. See the regression
vignette for several examples.
Note, to make it easier to call <code><a href="explain.html">explain()</a></code> from Python, the <code>regression.recipe_func</code> can also be a string
containing an R function. For example,
<code>"function(recipe) return(recipes::step_ns(recipe, recipes::all_numeric_predictors(), deg_free = 2))"</code> is also
a valid input. It is essential to include the package prefix if the package is not loaded.</p></dd>


<dt id="arg-regression-surrogate-n-comb">regression.surrogate_n_comb<a class="anchor" aria-label="anchor" href="#arg-regression-surrogate-n-comb"></a></dt>
<dd><p>Positive integer.
Specifies the number of unique coalitions to apply to each training observation.
The default is the number of sampled coalitions in the present iteration.
Any integer between 1 and the default is allowed.
Larger values requires more memory, but may improve the surrogate model.
If the user sets a value lower than the maximum, we sample this amount of unique coalitions
separately for each training observations.
That is, on average, all coalitions should be equally trained.</p></dd>


<dt id="arg-timeseries-fixed-sigma">timeseries.fixed_sigma<a class="anchor" aria-label="anchor" href="#arg-timeseries-fixed-sigma"></a></dt>
<dd><p>Positive numeric scalar.
Represents the kernel bandwidth in the distance computation.
The default value is 2.</p></dd>


<dt id="arg-timeseries-bounds">timeseries.bounds<a class="anchor" aria-label="anchor" href="#arg-timeseries-bounds"></a></dt>
<dd><p>Numeric vector of length two.
Specifies the lower and upper bounds of the timeseries.
The default is <code>c(NULL, NULL)</code>, i.e. no bounds.
If one or both of these bounds are not <code>NULL</code>, we restrict the sampled time series to be between these bounds.
This is useful if the underlying time series are scaled between 0 and 1, for example.</p></dd>


<dt id="arg-vaeac-depth">vaeac.depth<a class="anchor" aria-label="anchor" href="#arg-vaeac-depth"></a></dt>
<dd><p>Positive integer (default is <code>3</code>). The number of hidden layers
in the neural networks of the masked encoder, full encoder, and decoder.</p></dd>


<dt id="arg-vaeac-width">vaeac.width<a class="anchor" aria-label="anchor" href="#arg-vaeac-width"></a></dt>
<dd><p>Positive integer (default is <code>32</code>). The number of neurons in each
hidden layer in the neural networks of the masked encoder, full encoder, and decoder.</p></dd>


<dt id="arg-vaeac-latent-dim">vaeac.latent_dim<a class="anchor" aria-label="anchor" href="#arg-vaeac-latent-dim"></a></dt>
<dd><p>Positive integer (default is <code>8</code>). The number of dimensions in the latent space.</p></dd>


<dt id="arg-vaeac-activation-function">vaeac.activation_function<a class="anchor" aria-label="anchor" href="#arg-vaeac-activation-function"></a></dt>
<dd><p>An <code><a href="https://torch.mlverse.org/docs/reference/nn_module.html" class="external-link">torch::nn_module()</a></code> representing an activation function such as, e.g.,
<code><a href="https://torch.mlverse.org/docs/reference/nn_relu.html" class="external-link">torch::nn_relu()</a></code> (default), <code><a href="https://torch.mlverse.org/docs/reference/nn_leaky_relu.html" class="external-link">torch::nn_leaky_relu()</a></code>, <code><a href="https://torch.mlverse.org/docs/reference/nn_selu.html" class="external-link">torch::nn_selu()</a></code>, or <code><a href="https://torch.mlverse.org/docs/reference/nn_sigmoid.html" class="external-link">torch::nn_sigmoid()</a></code>.</p></dd>


<dt id="arg-vaeac-lr">vaeac.lr<a class="anchor" aria-label="anchor" href="#arg-vaeac-lr"></a></dt>
<dd><p>Positive numeric (default is <code>0.001</code>). The learning rate used in the <code><a href="https://torch.mlverse.org/docs/reference/optim_adam.html" class="external-link">torch::optim_adam()</a></code> optimizer.</p></dd>


<dt id="arg-vaeac-n-vaeacs-initialize">vaeac.n_vaeacs_initialize<a class="anchor" aria-label="anchor" href="#arg-vaeac-n-vaeacs-initialize"></a></dt>
<dd><p>Positive integer (default is <code>4</code>). The number of different vaeac models to initiate
in the start. Pick the best performing one after <code>vaeac.extra_parameters$epochs_initiation_phase</code>
epochs (default is <code>2</code>) and continue training that one.</p></dd>


<dt id="arg-vaeac-epochs">vaeac.epochs<a class="anchor" aria-label="anchor" href="#arg-vaeac-epochs"></a></dt>
<dd><p>Positive integer (default is <code>100</code>). The number of epochs to train the final vaeac model.
This includes <code>vaeac.extra_parameters$epochs_initiation_phase</code>, where the default is <code>2</code>.</p></dd>


<dt id="arg-vaeac-extra-parameters">vaeac.extra_parameters<a class="anchor" aria-label="anchor" href="#arg-vaeac-extra-parameters"></a></dt>
<dd><p>Named list with extra parameters to the <code>vaeac</code> approach. See
<code><a href="vaeac_get_extra_para_default.html">vaeac_get_extra_para_default()</a></code> for description of possible additional parameters and their default values.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p><a href="https://martinjullum.com/publication/aas-2021-explaining/aas-2021-explaining.pdf" class="external-link">
Aas, K., Jullum, M., &amp; Løland, A. (2021). Explaining individual predictions when features are dependent:
More accurate approximations to Shapley values. Artificial Intelligence, 298, 103502</a></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Martin Jullum</p>
<p>Lars Henry Berge Olsen</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Jullum, Lars Henry Berge Olsen, Annabelle Redelmeier, Jon Lachmann, Nikolai Sellereite, Norsk Regnesentral.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

