<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get the Default Values for the Extra Computation Arguments — get_extra_comp_args_default • shapr</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get the Default Values for the Extra Computation Arguments — get_extra_comp_args_default"><meta name="description" content="Get the Default Values for the Extra Computation Arguments"><meta property="og:description" content="Get the Default Values for the Extra Computation Arguments"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shapr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/general_usage.html">General usage of shapr</a></li>
    <li><a class="dropdown-item" href="../articles/vaeac.html">Advanced usage of the `vaeac` approach</a></li>
    <li><a class="dropdown-item" href="../articles/regression.html">The separate and surrogate regression approches</a></li>
    <li><a class="dropdown-item" href="../articles/asymmetric_causal.html">Asymmetric and Causal Shapley values</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Manual</a></li>
<li class="nav-item"><a class="nav-link" href="../shaprpy.html">Python</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NorskRegnesentral/shapr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get the Default Values for the Extra Computation Arguments</h1>
      <small class="dont-index">Source: <a href="https://github.com/NorskRegnesentral/shapr/blob/master/R/setup.R" class="external-link"><code>R/setup.R</code></a></small>
      <div class="d-none name"><code>get_extra_comp_args_default.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Get the Default Values for the Extra Computation Arguments</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_extra_comp_args_default</span><span class="op">(</span></span>
<span>  <span class="va">internal</span>,</span>
<span>  paired_shap_sampling <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Logic.html" class="external-link">isFALSE</a></span><span class="op">(</span><span class="va">internal</span><span class="op">$</span><span class="va">parameters</span><span class="op">$</span><span class="va">asymmetric</span><span class="op">)</span>,</span>
<span>  semi_deterministic_sampling <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  kernelSHAP_reweighting <span class="op">=</span> <span class="st">"on_all_cond"</span>,</span>
<span>  compute_sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Logic.html" class="external-link">isFALSE</a></span><span class="op">(</span><span class="va">internal</span><span class="op">$</span><span class="va">parameters</span><span class="op">$</span><span class="va">exact</span><span class="op">)</span>,</span>
<span>  n_boot_samps <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  vS_batching_method <span class="op">=</span> <span class="st">"future"</span>,</span>
<span>  max_batch_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  min_n_batches <span class="op">=</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-internal">internal<a class="anchor" aria-label="anchor" href="#arg-internal"></a></dt>
<dd><p>List.
Not used directly, but passed through from <code><a href="explain.html">explain()</a></code>.</p></dd>


<dt id="arg-paired-shap-sampling">paired_shap_sampling<a class="anchor" aria-label="anchor" href="#arg-paired-shap-sampling"></a></dt>
<dd><p>Logical.
If <code>TRUE</code> paired versions of all sampled coalitions are also included in the computation.
That is, if there are 5 features and e.g. coalitions (1,3,5) are sampled, then also coalition (2,4) is used for
computing the Shapley values. This is done to reduce the variance of the Shapley value estimates.
<code>TRUE</code> is the default and is recommended for highest accuracy.
For asymmetric, <code>FALSE</code> is the default and the only legal value.</p></dd>


<dt id="arg-semi-deterministic-sampling">semi_deterministic_sampling<a class="anchor" aria-label="anchor" href="#arg-semi-deterministic-sampling"></a></dt>
<dd><p>Logical.
If <code>FALSE</code> (default), then we sample from all coalitions.
If <code>TRUE</code>, the sampling of coalitions is semi-deterministic, i.e. the sampling is done in a way that ensures that
coalitions that are expected to be sampled based on the number of coalitions are deterministically included such
that we sample among fewer coalitions. This is done to reduce the variance of the Shapley value estimates,
and corresponds to the PySHAP* strategy in the paper <a href="https://arxiv.org/pdf/2410.04883" class="external-link">Olsen &amp; Jullum (2024)</a>.</p></dd>


<dt id="arg-kernelshap-reweighting">kernelSHAP_reweighting<a class="anchor" aria-label="anchor" href="#arg-kernelshap-reweighting"></a></dt>
<dd><p>String.
How to reweight the sampling frequency weights in the kernelSHAP solution after sampling.
The aim of this is to reduce the randomness and thereby the variance of the Shapley value estimates.
The options are one of <code>'none'</code>, <code>'on_N'</code>, <code>'on_all'</code>, <code>'on_all_cond'</code> (default).
<code>'none'</code> means no reweighting, i.e. the sampling frequency weights are used as is.
<code>'on_N'</code> means the sampling frequencies are averaged over all coalitions with the same original sampling
probabilities.
<code>'on_all'</code> means the original sampling probabilities are used for all coalitions.
<code>'on_all_cond'</code> means the original sampling probabilities are used for all coalitions, while adjusting for the
probability that they are sampled at least once.
<code>'on_all_cond'</code> is preferred as it performs the best in simulation studies, see
<a href="https://arxiv.org/pdf/2410.04883" class="external-link">Olsen &amp; Jullum (2024)</a>.</p></dd>


<dt id="arg-compute-sd">compute_sd<a class="anchor" aria-label="anchor" href="#arg-compute-sd"></a></dt>
<dd><p>Logical. Whether to estimate the standard deviations of the Shapley value estimates. This is TRUE
whenever sampling based kernelSHAP is applied (either iteratively or with a fixed number of coalitions).</p></dd>


<dt id="arg-n-boot-samps">n_boot_samps<a class="anchor" aria-label="anchor" href="#arg-n-boot-samps"></a></dt>
<dd><p>Integer. The number of bootstrapped samples (i.e. samples with replacement) from the set of all
coalitions used to estimate the standard deviations of the Shapley value estimates.</p></dd>


<dt id="arg-vs-batching-method">vS_batching_method<a class="anchor" aria-label="anchor" href="#arg-vs-batching-method"></a></dt>
<dd><p>String. The method used to perform batch computing of vS.
<code>"future"</code> (default), utilizes <a href="https://future.apply.futureverse.org/reference/future_apply.html" class="external-link">future.apply::future_apply</a> (via the <a href="https://future.futureverse.org/reference/future.html" class="external-link">future::future</a> package),
enabling parallelized computation and progress updates via <a href="https://progressr.futureverse.org/reference/progressr.html" class="external-link">progressr::progressr</a>.
Alternatively, <code>"forloop"</code> can be used for straightforward sequential computation, which is mainly useful for
package development and debugging purposes.</p></dd>


<dt id="arg-max-batch-size">max_batch_size<a class="anchor" aria-label="anchor" href="#arg-max-batch-size"></a></dt>
<dd><p>Integer. The maximum number of coalitions to estimate simultaneously within each iteration.
A larger number requires more memory, but may have a slight computational advantage.</p></dd>


<dt id="arg-min-n-batches">min_n_batches<a class="anchor" aria-label="anchor" href="#arg-min-n-batches"></a></dt>
<dd><p>Integer. The minimum number of batches to split the computation into within each iteration.
Larger numbers give more frequent progress updates. If parallelization is applied, this should be set no smaller
than the number of parallel workers.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with the default values for the extra computation arguments.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p><a href="https://arxiv.org/pdf/2410.04883" class="external-link">
Olsen, L. H. B., &amp; Jullum, M. (2024). Improving the Sampling Strategy in KernelSHAP.
arXiv preprint arXiv:2410.04883.</a></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Martin Jullum</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Jullum, Lars Henry Berge Olsen, Annabelle Redelmeier, Jon Lachmann, Nikolai Sellereite, Norsk Regnesentral.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

