# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' Computing single H matrix in AICc-function using the Mahalanobis distance
#'
#' @param X matrix with "covariates"
#' @param mcov covariance matrix
#' @param S_scale_dist logical indicating whether the Mahlanobis distance should be scaled with the number of variables
#' @param h numeric specifying the scaling (sigma)
#'
#' @export
#'
#' @return Matrix of dimension ncol(X)*ncol(X)
#' @author Martin Jullum
H_cpp <- function(X, mcov, S_scale_dist, h) {
    .Call(`_shapr_H_cpp`, X, mcov, S_scale_dist, h)
}

#' sigma_hat_sq-function
#'
#' @param H matrix being the output from H_cpp
#' @param y vector with the "response variable"
#' @param ret_log logical indicating whether to return the logarithm of the sigma_sq
#' @export
#'
#' @return Scalar
#' @author Martin Jullum
rss_cpp <- function(H, y) {
    .Call(`_shapr_rss_cpp`, H, y)
}

#' correction term with trace_input in AICc formula
#'
#' @param tr_H numeric giving the trace of H
#' @param n numeric given the number of rows in H
#' @export
#'
#' @return Scalar
#' @author Martin Jullum
correction_cpp <- function(tr_H, n) {
    .Call(`_shapr_correction_cpp`, tr_H, n)
}

#'  Temp-function for computing the full AICc with several X's etc
#'
#' @param X matrix with "covariates"
#' @param mcov covariance matrix
#' @param S_scale_dist logical indicating whether the Mahlanobis distance should be scaled with the number of variables
#' @param h numeric specifying the scaling (sigma)
#' @param y vector with the "response variable"
#'
#' @export
#'
#' @return Scalar with the numeric value of the AICc formula
#' @author Martin Jullum
AICc_full_tmp_cpp <- function(X, mcov, S_scale_dist, h, y) {
    .Call(`_shapr_AICc_full_tmp_cpp`, X, mcov, S_scale_dist, h, y)
}

#'  AICc formula for several sets, alternative definition
#'
#' @param h numeric specifying the scaling (sigma)
#' @param X matrix with "covariates"
#' @param mcov covariance matrix
#' @param S_scale_dist logical indicating whether the Mahlanobis distance should be scaled with the number of variables
#' @param y vector with the "response variable"
#'
#' @export
#'
#' @return Scalar with the numeric value of the AICc formula
#' @author Martin Jullum
AICc_full_cpp_alt <- function(h, X_list, mcov_list, S_scale_dist, y_list, negative) {
    .Call(`_shapr_AICc_full_cpp_alt`, h, X_list, mcov_list, S_scale_dist, y_list, negative)
}

#' (Generalized) Mahalanobis distance
#'
#' Used to get the Euclidean distance as well by setting mcov = diag(m).
#' @param featureList List of vectors indicating all facture combinations that should be included in the computations. Assumes that the first one is empty.
#' @param Xtrain Dataframe
#' @param Xtest Dataframe
#' @param mcov Matrix. The Sigma-matrix in the Mahalanobis distance formula (cov(Xtrain) gives Mahalanobis distance,
#' diag(m) gives the Euclidean distance.
#' @param S_scale_dist Logical indicating
#'
#' @export
#'
#' @return Array of three dimensions containg the the squared distance for between all training and test observations for all feature combinations passed to the function.
#' @author Martin Jullum
gen_Mahlanobis_dist_cpp <- function(featureList, Xtrain, Xtest, mcov, S_scale_dist) {
    .Call(`_shapr_gen_Mahlanobis_dist_cpp`, featureList, Xtrain, Xtest, mcov, S_scale_dist)
}

#' Get imputed data
#'
#' @param ID Positive integer vector
#' @param Comb Positive integer vector
#' @inheritParams global_arguments
#'
#'
#' @export
#'
#' @return Array of three dimensions
#' @author Nikolai Sellereite
impute_cpp <- function(ID, Comb, Xtrain, Xtest, S) {
    .Call(`_shapr_impute_cpp`, ID, Comb, Xtrain, Xtest, S)
}

#' Get distance
#'
#' @param n Postive integer. Number of combinations
#' @inheritParams global_arguments
#'
#' @export
#'
#' @return Matrix of dimension n x m + 1
#' @author Nikolai Sellereite
weighted_matrix <- function(features, m, n, w) {
    .Call(`_shapr_weighted_matrix`, features, m, n, w)
}

#' Get feature matrix
#'
#' @param features List
#' @param nfeatures Positive integer. Total number of features
#'
#' @export
#'
#' @return Matrix
#' @author Nikolai Sellereite
feature_matrix_cpp <- function(features, nfeatures) {
    .Call(`_shapr_feature_matrix_cpp`, features, nfeatures)
}

