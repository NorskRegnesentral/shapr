<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • shapr</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shapr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/general_usage.html">General usage of shapr</a></li>
    <li><a class="dropdown-item" href="../articles/vaeac.html">Advanced usage of the `vaeac` approach</a></li>
    <li><a class="dropdown-item" href="../articles/regression.html">The separate and surrogate regression approches</a></li>
    <li><a class="dropdown-item" href="../articles/asymmetric_causal.html">Asymmetric and Causal Shapley values</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Manual</a></li>
<li class="nav-item"><a class="nav-link" href="../shaprpy.html">Python</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NorskRegnesentral/shapr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/NorskRegnesentral/shapr/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.8" id="shapr-108">shapr 1.0.8<a class="anchor" aria-label="anchor" href="#shapr-108"></a></h2><p class="text-muted">CRAN release: 2026-01-20</p>
<div class="section level4">
<h4 id="improvements-1-0-8">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-8"></a></h4>
<ul><li>Enhanced <code><a href="../reference/plot.shapr.html">plot.shapr()</a></code> with smarter defaults for <code>index_x_explain</code>: now defaults to <code>1:10</code> for bar and waterfall plots, and all observations for scatter and beeswarm plots. Informative messages are shown if more than 10 observations are available for bar/waterfall plots (<a href="https://github.com/NorskRegnesentral/shapr/pull/487" class="external-link">#487</a>).</li>
<li>Renamed ARIMA model methods from <code>forecast_ARIMA</code> to <code>fc_model</code> in S3 method registrations and implementations after class name change in the <code>forecast</code> package (to align with <code>fable</code> package conventions). This affects both <code>get_model_specs</code> and <code>predict_model</code> methods. CRAN tests added to catch such up front in the future (<a href="https://github.com/NorskRegnesentral/shapr/pull/487" class="external-link">#487</a>).</li>
<li>Updated <code><a href="../reference/plot_MSEv_eval_crit.html">plot_MSEv_eval_crit()</a></code> and related documentation to use “coalition” instead of “comb” for plot types, improving clarity and consistency (<a href="https://github.com/NorskRegnesentral/shapr/pull/487" class="external-link">#487</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="documentation-1-0-8">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-0-8"></a></h4>
<ul><li>Various minor documentation clarifications and improvements (<a href="https://github.com/NorskRegnesentral/shapr/pull/487" class="external-link">#487</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.7" id="shapr-107">shapr 1.0.7<a class="anchor" aria-label="anchor" href="#shapr-107"></a></h2><p class="text-muted">CRAN release: 2025-12-22</p>
<div class="section level4">
<h4 id="improvements-1-0-7">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-7"></a></h4>
<ul><li>Updated <code><a href="../reference/summary.shapr.html">summary.shapr()</a></code> to return a <code>summary.shapr</code> class object (rather than just printing) for improved reusability and consistency with R conventions (<a href="https://github.com/NorskRegnesentral/shapr/pull/482" class="external-link">#482</a>).</li>
<li>Enhanced <code><a href="../reference/plot.shapr.html">plot.shapr()</a></code> with default <code>index_x_explain = 1:10</code> for more convenient plotting of first observations (and printing info about this) (<a href="https://github.com/NorskRegnesentral/shapr/pull/482" class="external-link">#482</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-7">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-7"></a></h4>
<ul><li>Fixed compatibility with <code>xgboost</code> after their breaking change class update (version &gt;= 3.1.2.1). We now support both the previous and the new xgboost versions (<a href="https://github.com/NorskRegnesentral/shapr/pull/481" class="external-link">#481</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="robustness-and-documentation-1-0-7">Robustness and documentation<a class="anchor" aria-label="anchor" href="#robustness-and-documentation-1-0-7"></a></h4>
<ul><li>Added tests for <code><a href="../reference/summary.shapr.html">summary.shapr()</a></code> method (<a href="https://github.com/NorskRegnesentral/shapr/pull/482" class="external-link">#482</a>)</li>
<li>Added non-snapshot tests for all natively supported model classes (<a href="https://github.com/NorskRegnesentral/shapr/pull/481" class="external-link">#481</a>).</li>
<li>Minor updates to examples and vignettes the updates in <code><a href="../reference/summary.shapr.html">summary.shapr()</a></code> and the <code>xgboost</code> class (<a href="https://github.com/NorskRegnesentral/shapr/pull/483" class="external-link">#483</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.6" id="shapr-106">shapr 1.0.6<a class="anchor" aria-label="anchor" href="#shapr-106"></a></h2><p class="text-muted">CRAN release: 2025-11-17</p>
<div class="section level4">
<h4 id="improvements-1-0-6">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-6"></a></h4>
<ul><li>Added “proglang” to the <code>what</code> argument in <code><a href="../reference/get_results.html">get_results()</a></code> to extract the programming language used (R or Python) (<a href="https://github.com/NorskRegnesentral/shapr/pull/477" class="external-link">#477</a>), to ease reuse of the <code>R</code> methods in the <code>shaprpy</code> Python wrapper.</li>
<li>Added <code>print_ggplot</code> argument to <code><a href="../reference/plot.shapr.html">plot.shapr()</a></code> (default <code>TRUE</code>) to ensure ggplots are displayed when sourced, in functions, loops etc. Applied the same fix to <code><a href="../reference/plot_SV_several_approaches.html">plot_SV_several_approaches()</a></code>. (<a href="https://github.com/NorskRegnesentral/shapr/pull/478" class="external-link">#478</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="minor-fixes-1-0-6">Minor fixes<a class="anchor" aria-label="anchor" href="#minor-fixes-1-0-6"></a></h4>
<ul><li>Converted all exported function titles to Title Case in the documentation (<a href="https://github.com/NorskRegnesentral/shapr/pull/477" class="external-link">#477</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.5" id="shapr-105">shapr 1.0.5<a class="anchor" aria-label="anchor" href="#shapr-105"></a></h2><p class="text-muted">CRAN release: 2025-08-25</p>
<div class="section level4">
<h4 id="new-features-1-0-5">New features<a class="anchor" aria-label="anchor" href="#new-features-1-0-5"></a></h4>
<ul><li>Added <code><a href="../reference/get_results.html">get_results()</a></code> for extracting key components from a <code>shapr</code> object, including Shapley values, model parameters, and iterative computation details (<a href="https://github.com/NorskRegnesentral/shapr/pull/460" class="external-link">#460</a>).</li>
<li>Added <code><a href="../reference/summary.shapr.html">summary.shapr()</a></code> method, which builds on <code><a href="../reference/get_results.html">get_results()</a></code> and internal <code>format_xyz()</code> functions to provide a concise overview of explanation objects (<a href="https://github.com/NorskRegnesentral/shapr/pull/460" class="external-link">#460</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-5">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-5"></a></h4>
<ul><li>Enhanced <code><a href="../reference/print.shapr.html">print.shapr()</a></code> to support printing of specific components, with customizable control over digits and decimal precision (<a href="https://github.com/NorskRegnesentral/shapr/pull/460" class="external-link">#460</a>).</li>
<li>Refactored <code>cli</code>-based output functions for improved reuse across multiple methods (<a href="https://github.com/NorskRegnesentral/shapr/pull/460" class="external-link">#460</a>).</li>
<li>Updated vignettes, examples, and tests to reflect the new functionality (<a href="https://github.com/NorskRegnesentral/shapr/pull/460" class="external-link">#460</a>).</li>
<li>Fixed spelling, grammar, and other textual inconsistencies in documentation, comments, and vignettes (<a href="https://github.com/NorskRegnesentral/shapr/pull/465" class="external-link">#465</a>).</li>
<li>Applied various minor visual improvements (<a href="https://github.com/NorskRegnesentral/shapr/pull/460" class="external-link">#460</a>, <a href="https://github.com/NorskRegnesentral/shapr/pull/464" class="external-link">#464</a>).</li>
<li>Converted vignette figures to WebP format to significantly reduce tarball size (<a href="https://github.com/NorskRegnesentral/shapr/pull/468" class="external-link">#468</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-5">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-5"></a></h4>
<ul><li>Fixed error when handling many features by removing <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer()</a></code> coercion in the computation of coalitions per coalition size (<a href="https://github.com/NorskRegnesentral/shapr/pull/462" class="external-link">#462</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="python-1-0-5">Python<a class="anchor" aria-label="anchor" href="#python-1-0-5"></a></h4>
<ul><li>Publish <code>shaprpy</code> on PyPI. See the <a href="https://norskregnesentral.github.io/shapr/py_changelog.html">shaprpy CHANGELOG</a> for details.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.4" id="shapr-104">shapr 1.0.4<a class="anchor" aria-label="anchor" href="#shapr-104"></a></h2><p class="text-muted">CRAN release: 2025-04-28</p>
<ul><li><p>Implement semi-deterministic sampling of coalitions similar to the default in the <em>shap</em> python library and described and discussed as the PySHAP* strategy in <a href="https://arxiv.org/abs/2410.04883" class="external-link">Olsen &amp; Jullum (2024)</a>. It is disabled by default, but can be set via <code>extra_computation_args = list(semi_deterministic_sampling = TRUE)</code> in <code><a href="../reference/explain.html">explain()</a></code>. The functionality is available when paired coalition sampling (the default) is enabled. See <a href="https://github.com/NorskRegnesentral/shapr/pull/449" class="external-link">#449</a> for details.</p></li>
<li><p>Deletes the regression-surrogate parsnip object when testing to avoid future conflicts with model object changes. (Second last commit in <a href="https://github.com/NorskRegnesentral/shapr/pull/447" class="external-link">#447</a>).</p></li>
<li><p>Improve and update the logic and print for setting the number of coalitions in the next iteration for <code>iterative = TRUE</code> (<a href="https://github.com/NorskRegnesentral/shapr/pull/452" class="external-link">#452</a>)</p></li>
<li><p>Allow passing <code>vS_batching_method</code> to <code>explain()/explain_forecast()</code> to specify the batch computation method (default is <code>"future"</code> for both, <code>"forloop"</code> available mainly for dev purposes) (<a href="https://github.com/NorskRegnesentral/shapr/pull/452" class="external-link">#452</a>)</p></li>
<li><p>Transform to use the <code>cli</code> and <code>rlang</code> packages to provide all messages/warnings/stops with nicer formatting and layout. The messages (via <code>cli_inform()</code>) now also obey the <code>verbose</code> argument and are displayed only if <code>'basic' %in% verbose</code> is TRUE. The header printout also differs between <code><a href="../reference/explain.html">explain()</a></code>/<code><a href="../reference/explain_forecast.html">explain_forecast()</a></code> and whether called from Python. This also adds <code>cli</code> and <code>rlang</code> to imports. (<a href="https://github.com/NorskRegnesentral/shapr/pull/453" class="external-link">#453</a>)</p></li>
<li><p>Now using <code><a href="https://testthat.r-lib.org/reference/skip.html" class="external-link">testthat::skip_if_not_installed</a></code> for all tests requiring suggested packages to ensure they are skipped gracefully when dependencies are unavailable (<a href="https://github.com/NorskRegnesentral/shapr/pull/451" class="external-link">#451</a>)</p></li>
</ul><div class="section level3">
<h3 id="other-minor-fixes-1-0-4">Other minor fixes<a class="anchor" aria-label="anchor" href="#other-minor-fixes-1-0-4"></a></h3>
<ul><li>Two minor bugs related to <code>KernelSHAP_reweighing()</code> (<a href="https://github.com/NorskRegnesentral/shapr/pull/448" class="external-link">#448</a>)</li>
<li>Two minor bugs related to weighting for asymmetric Shapley values (<a href="https://github.com/NorskRegnesentral/shapr/pull/449" class="external-link">#449</a>)</li>
<li>Check <code>seed</code> argument, and only pass to <code>torch</code> if not NULL (<a href="https://github.com/NorskRegnesentral/shapr/pull/452" class="external-link">#452</a>)</li>
<li>Make <code><a href="../reference/explain_forecast.html">explain_forecast()</a></code> use <code>future</code> for batch computation as well (by default) (<a href="https://github.com/NorskRegnesentral/shapr/pull/452" class="external-link">#452</a>)</li>
<li>Fix bug for the AICc + independence variants of <code>approach = 'empirical'</code> occurring when <code>n_features &lt; n_explain</code> (<a href="https://github.com/NorskRegnesentral/shapr/pull/453" class="external-link">#453</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.3" id="shapr-103">shapr 1.0.3<a class="anchor" aria-label="anchor" href="#shapr-103"></a></h2><p class="text-muted">CRAN release: 2025-03-26</p>
<ul><li>
<p>Fix documentation issues detected during shapr 1.0.2 release (<a href="https://github.com/NorskRegnesentral/shapr/pull/442" class="external-link">#442</a>)</p>
<ul><li>Remove examples from unexported functions</li>
<li>Replace by for long running examples</li>
<li>Replace usage of <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> by <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning()</a></code> on two occasions</li>
</ul></li>
<li><p>Fix issue with <code>Expected &lt;nn_module&gt; but got object of type &lt;NULL&gt;</code> for <code>approach='vaeac'</code> after recent <code>torch</code> update broke it (<a href="https://github.com/NorskRegnesentral/shapr/pull/444" class="external-link">#444</a>)</p></li>
<li><p>Changes default seed in <code><a href="../reference/explain.html">explain()</a></code> and <code><a href="../reference/explain_forecast.html">explain_forecast()</a></code> from 1 to NULL to avoid set.seed() to conflict with later called code (<a href="https://github.com/NorskRegnesentral/shapr/pull/445" class="external-link">#445</a>)</p></li>
<li>
<p>Other minor fixes</p>
<ul><li>Add digits as arguments to the internal snapshot testing <code>expect_snapshot_rds()</code> to reduce false positive roundoff-errors between platforms (<a href="https://github.com/NorskRegnesentral/shapr/pull/444" class="external-link">#444</a>)</li>
<li>Adjust dependencies in Suggests and their usage in tests (<a href="https://github.com/NorskRegnesentral/shapr/pull/446" class="external-link">#446</a>)</li>
<li>Used skip_on_cran() to reduce check time on CRAN for snapshot tests which where not tested anyway</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.2" id="shapr-102">shapr 1.0.2<a class="anchor" aria-label="anchor" href="#shapr-102"></a></h2><p class="text-muted">CRAN release: 2025-02-06</p>
<ul><li>Fix CRAN NOTE which turned out to be bug related to returning NULL rather than integer(0) to identify (unconditional) asymmetric causal sampling (<a href="https://github.com/NorskRegnesentral/shapr/pull/435" class="external-link">#435</a>)</li>
<li>[Py] Get ‘shaprpy’ up to speed with the latest ‘shapr’ version and return the internal list properly (<a href="https://github.com/NorskRegnesentral/shapr/pull/436" class="external-link">#436</a>)</li>
<li>Allow manual groups in <code><a href="../reference/explain_forecast.html">explain_forecast()</a></code> (<a href="https://github.com/NorskRegnesentral/shapr/pull/433" class="external-link">#433</a>)</li>
<li>Minor updates to readme and pkgdown site after CRAN release of shapr 1.0.1 (<a href="https://github.com/NorskRegnesentral/shapr/pull/437" class="external-link">#437</a>, <a href="https://github.com/NorskRegnesentral/shapr/pull/438" class="external-link">#438</a>)</li>
<li>Require data.table &gt;= 1.15.0 to allow uniform usage of <code>by=.I</code> (<a href="https://github.com/NorskRegnesentral/shapr/issues/434" class="external-link">#434</a>)</li>
<li>Minor doc edits (<a href="https://github.com/NorskRegnesentral/shapr/issues/439" class="external-link">#439</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="shapr-101">shapr 1.0.1<a class="anchor" aria-label="anchor" href="#shapr-101"></a></h2><p class="text-muted">CRAN release: 2025-01-16</p>
<ul><li>Spelling checking and other minor clean up (<a href="https://github.com/NorskRegnesentral/shapr/pull/431" class="external-link">#431</a>)</li>
<li>Add extra_computation_args and output_args to explain_forecast() (<a href="https://github.com/NorskRegnesentral/shapr/pull/428" class="external-link">#428</a>)</li>
<li>Rename vaeac plotting functions (<a href="https://github.com/NorskRegnesentral/shapr/pull/428" class="external-link">#428</a>)</li>
<li>Move explain() arguments <code>paired_shap_sampling</code> and <code>kernelSHAP_reweighting</code> into <code>extra_computation_args</code> (<a href="https://github.com/NorskRegnesentral/shapr/pull/428" class="external-link">#428</a>)</li>
<li>Improved and unified the documentation (<a href="https://github.com/NorskRegnesentral/shapr/pull/427" class="external-link">#427</a>)</li>
<li>Remove seed argument from the boostrap function as its better handled by the mother function (<a href="https://github.com/NorskRegnesentral/shapr/pull/427" class="external-link">#427</a>)</li>
<li>Renamed various internal functions to be consistent with names in the rest of the package (<a href="https://github.com/NorskRegnesentral/shapr/pull/427" class="external-link">#427</a>)</li>
<li>Remove MSEv from explain_forecast (as it was only supported for horizon=1). Should return in a more general manner in the future (<a href="https://github.com/NorskRegnesentral/shapr/pull/427" class="external-link">#427</a>)</li>
<li>Improve efficiency of coalition sampling code and move to string sampling (<a href="https://github.com/NorskRegnesentral/shapr/pull/426" class="external-link">#426</a>)</li>
<li>Bugfix <code>iterative = TRUE</code> for <code><a href="../reference/explain_forecast.html">explain_forecast()</a></code> which was not using coalitions from previous iterations (<a href="https://github.com/NorskRegnesentral/shapr/pull/426" class="external-link">#426</a>)</li>
<li>Bugfix the handling and output with the <code>verbose</code> argument for <code><a href="../reference/explain_forecast.html">explain_forecast()</a></code> (<a href="https://github.com/NorskRegnesentral/shapr/pull/425" class="external-link">#425</a>)</li>
<li>Improved flexibility of the beeswarm plot functionality (<a href="https://github.com/NorskRegnesentral/shapr/pull/424" class="external-link">#424</a>)</li>
<li>Bugfix edge case where the <code>party</code> package returns a <code>constparty</code> object (<a href="https://github.com/NorskRegnesentral/shapr/pull/423" class="external-link">#423</a>)</li>
<li>Bugfix error due to extra comma in rarely used warning (<a href="https://github.com/NorskRegnesentral/shapr/pull/422" class="external-link">#422</a>)</li>
<li>Shined up the vignettes a bit (<a href="https://github.com/NorskRegnesentral/shapr/pull/421" class="external-link">#421</a>)</li>
<li>Bugfix <code>keep_samp_for_vS</code> with iterative approach (<a href="https://github.com/NorskRegnesentral/shapr/pull/417" class="external-link">#417</a>)</li>
<li>
<a href="#python">Python</a> Brought the python code base up to speed with essentially all functionality in <code><a href="../reference/explain.html">explain()</a></code> in R (<a href="https://github.com/NorskRegnesentral/shapr/pull/416" class="external-link">#416</a>)</li>
<li>Please CRAN with dontrun on long running examples + skip_on_cran for the parallelized tests.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="shapr-100-github-only">shapr 1.0.0 (GitHub only)<a class="anchor" aria-label="anchor" href="#shapr-100-github-only"></a></h2>
<div class="section level4">
<h4 id="breaking-changes-1-0-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-0-0"></a></h4>
<ul><li>Moved from explaining predictions using <em>two</em> functions (<code><a href="../reference/shapr-package.html">shapr()</a></code> for initial setup + <code><a href="../reference/explain.html">explain()</a></code> for explanation for specific observations), to a <em>single</em> function call (also named <code><a href="../reference/explain.html">explain()</a></code>). The data used for training and to be explained have gotten explicit names (<code>x_train</code> and <code>x_explain</code>). The order of the input arguments has also been slightly changed (<code>model</code> is now the first argument).</li>
<li>Prediction and checking functions for custom models are now passed directly as arguments to <code><a href="../reference/explain.html">explain()</a></code> instead of being defined as functions of a specific class in the global env.</li>
<li>The previously exported function <code>make_dummies</code> used to explain <code>xgboost</code> models with categorical data, is removed to simplify the code base. This is rather handled with a custom prediction model.</li>
<li>The function <code>explain.ctree_comb_mincrit</code>, which allowed combining models with <code>approch=ctree</code> with different <code>mincrit</code> parameters, has been removed to simplify the code base. It may return in a completely general manner in later version of <code>shapr</code>.</li>
<li>New argument names: prediction_zero -&gt; phi0, n_combinations -&gt; max_n_coalitions, n_samples -&gt; n_MC_samples,</li>
</ul></div>
<div class="section level4">
<h4 id="new-features-1-0-0">New features<a class="anchor" aria-label="anchor" href="#new-features-1-0-0"></a></h4>
<ul><li>Iterative Shapley value estimation with convergence detection</li>
<li>New approaches: vaeac, regression_separate, regression_surrogate, timeseries, categorical</li>
<li>verbose argument for explain() to control the amount of output</li>
<li>Parallelized computation of v(S) with future, including progress updates</li>
<li>Paired_sampling of coalitions</li>
<li>prev_shapr_object argument to explain() to continue explanation from a previous object</li>
<li>asymmetric and causal Shapley values</li>
<li>Improved KernelSHAP estimation with adjusted weights for reduced variance</li>
<li>Release a Python wrapper (<code>shaprpyr</code>, <a href="https://github.com/NorskRegnesentral/shapr/pull/325" class="external-link">#325</a>) for explaining predictions from Python models (from Python) utilizing almost all functionality of <code>shapr</code>. The wrapper moves back and forth back and forth between Python and R, doing the prediction in Python, and almost everything else in R. This simplifies maintenance of <code>shaprpy</code> significantly. The wrapper is available <a href="https://github.com/NorskRegnesentral/shapr/tree/master/python" class="external-link">here</a>.</li>
<li>Introduce batch computation of conditional expectations (<a href="https://github.com/NorskRegnesentral/shapr/issues/244" class="external-link">#244</a>). This essentially compute <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">v(S)</annotation></semantics></math> for a portion of the <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>S</mi><annotation encoding="application/x-tex">S</annotation></semantics></math>-subsets at a time, to reduce the amount of data needed to be held in memory. The user can control the number of batches herself, but we set a reasonable value by default (<a href="https://github.com/NorskRegnesentral/shapr/pull/327" class="external-link">#327</a>). This allows models with large number of features to be explained with a significantly lower RAM consumption (at the cost of a slight increase in the computation time)</li>
<li>Parallelization over batches (<a href="https://github.com/NorskRegnesentral/shapr/issues/38" class="external-link">#38</a>) using the <a href="https://future.futureverse.org/" class="external-link">future</a> framework.</li>
<li>Progress bar (<a href="https://github.com/NorskRegnesentral/shapr/pull/293" class="external-link">#293</a>) using the <a href="https://progressr.futureverse.org/" class="external-link"><code>progressr</code></a> package. Must be activated by the user with <code>progressr::handlers(global = TRUE)</code> or wrapping the call to <code><a href="../reference/explain.html">explain()</a></code> around <code>progressr::with_progress({})</code>
</li>
<li>Added <code>approach = 'categorical'</code> (<a href="https://github.com/NorskRegnesentral/shapr/issues/256" class="external-link">#256</a>, <a href="https://github.com/NorskRegnesentral/shapr/pull/307" class="external-link">#307</a>) used to explain models with solely categorical features by directly using/estimating the joint distribution of all feature combinations.</li>
<li>Added <code>approch='timeseries'</code> (<a href="https://github.com/NorskRegnesentral/shapr/pull/314" class="external-link">#314</a>) for explaining classifications based on time series data/models with the method described in Sec 4.3 of the <a href="https://martinjullum.com/publication/jullum-2021-efficient/jullum-2021-efficient.pdf" class="external-link">groupShapley paper</a>.</li>
<li>Implemented unique sampling of Shapley value subsets (<a href="https://github.com/NorskRegnesentral/shapr/issues/227" class="external-link">#227</a>)</li>
<li>Added new function <code>explain_forecast</code> to explain forecasts from time series models, at various prediction horizons (<a href="https://github.com/NorskRegnesentral/shapr/pull/328" class="external-link">#328</a>). Uses a different set of input argument which is more appropriate for these models.</li>
<li>Re-implementation of <code>approach = 'independence'</code> method providing significantly faster computation (no longer as a special case of the <code>empirical</code> method). Also allow the method to be used on models with categorical data (<a href="https://github.com/NorskRegnesentral/shapr/pull/315" class="external-link">#315</a>).</li>
<li>Added ‘beeswarm’ and ‘waterfall’ plots + new coloring scheme for all plots. See the <a href="https://norskregnesentral.github.io/shapr/articles/general_usage.html#ex">vignette</a> for examples.</li>
<li>Added timing of the various parts of the explanation process.</li>
</ul></div>
<div class="section level4">
<h4 id="under-the-hood-1-0-0">Under the hood<a class="anchor" aria-label="anchor" href="#under-the-hood-1-0-0"></a></h4>
<ul><li>The test base have been completely rewritten (<a href="https://github.com/NorskRegnesentral/shapr/issues/249" class="external-link">#249</a>). Now heavily utilizing <a href="https://testthat.r-lib.org/articles/snapshotting.html" class="external-link">snapshots</a> on a large set of benchmark calls to <code>explain</code>, also using <a href="https://vdiffr.r-lib.org/" class="external-link">vdiffr</a> for plot tests. Test functions are only written for exported core functions. Internal functions are only tested through the exported ones.</li>
<li>Update GitHub actions (<a href="https://github.com/NorskRegnesentral/shapr/pull/335" class="external-link">#335</a>).</li>
<li>Avoid unnecessary computation of inverse for weight matrix (<a href="https://github.com/NorskRegnesentral/shapr/issues/280" class="external-link">#280</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-and-bug-fixes-1-0-0">Minor improvements and bug fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-bug-fixes-1-0-0"></a></h3>
<ul><li>The vignette/readme/tests now uses the <code><a href="https://rdrr.io/r/datasets/airquality.html" class="external-link">datasets::airquality</a></code> dataset. This avoids including a new package just for the dataset (<a href="https://github.com/NorskRegnesentral/shapr/issues/248" class="external-link">#248</a>).</li>
<li>Allows lm/glm/gam models with interactions (<a href="https://github.com/NorskRegnesentral/shapr/pull/303" class="external-link">#303</a>). Previously, this was not possible with the prediction functions defined internally due to a bug.</li>
<li>Sampling of group subsets implemented also for grouping, not only features.</li>
</ul><div class="section level4">
<h4 id="documentation-improvements-1-0-0">Documentation improvements<a class="anchor" aria-label="anchor" href="#documentation-improvements-1-0-0"></a></h4>
<ul><li>The <a href="https://norskregnesentral.github.io/shapr/articles/general_usage.html">vignette</a> has been updated to reflect the new framework for explaining predictions, and all the new package features/functionality.</li>
<li>New vignettes also for the regression paradigm, vaeac and the asymmetric/causal Shapley values</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3" id="shapr-023-github-only">shapr 0.2.3 (GitHub only)<a class="anchor" aria-label="anchor" href="#shapr-023-github-only"></a></h2>
<ul><li>Development version</li>
<li>Added support for groupSHAP, including check of appropriate groups, examples and tests</li>
<li>Various modifications to input of internal functions to reflect that Shapley values may be computed both feature-wise and group-wise</li>
<li>Fixed bug when passing non-named data to shapr() or explain() (e.g. <code>shapr(data[,1:5],model...)</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.2" id="shapr-022">shapr 0.2.2<a class="anchor" aria-label="anchor" href="#shapr-022"></a></h2><p class="text-muted">CRAN release: 2023-05-04</p>
<ul><li>Patch to fix failing CRAN-tests on R-devel due to changed behavior of <code><a href="https://rdrr.io/r/base/attach.html" class="external-link">attach()</a></code>: Fixed by changing how we simulate adding a function to .GlobalEnv in the failing test. Actual package not affected.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="shapr-021">shapr 0.2.1<a class="anchor" aria-label="anchor" href="#shapr-021"></a></h2><p class="text-muted">CRAN release: 2023-02-27</p>
<ul><li>Patch to fix warning from development version of data.table due to the use of nomatch argument in merge(), as requested from <a href="https://github.com/NorskRegnesentral/shapr/issues/322" class="external-link">data.table developers</a>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="shapr-020">shapr 0.2.0<a class="anchor" aria-label="anchor" href="#shapr-020"></a></h2><p class="text-muted">CRAN release: 2021-01-28</p>
<ul><li>Minor CRAN release</li>
<li>Added the new dependence modeling approach “ctree” which handles categorical features in addition to numerical ones. For more information see our paper <a href="https://doi.org/10.1007/978-3-030-57321-8_7" class="external-link uri">https://doi.org/10.1007/978-3-030-57321-8_7</a>
</li>
<li>Added support to explain models which take as input categorical features for model classes like xgboost which originally takes only numeric input. On the user side, an additional call to the new <em>make_dummies</em> function is required. See the vignette for details.</li>
<li>Slight change in the user procedure for explaining predictions from custom models. This now requires only a single function <em>predict_model</em>.</li>
<li>Introduced a thorough system for extracting and checking the feature information in the model and the data passed to <em>shapr</em> and <em>explain</em>. The features in the data are checked for consistency with what can be extracted from the model object. If the model object is missing some of the necessary information, the info from the data is used instead. The system checks feature labels, classes, and any factor levels.</li>
<li>Due to the previous point, the <em>feature_names</em> option previously used for custom models is removed.</li>
<li>Added a manual testing script for custom model (currently cannot be handled by testthat due to environment issues).</li>
<li>A few under-the-hood changes for checking in the <em>shapr</em> function.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.4" id="shapr-014">shapr 0.1.4<a class="anchor" aria-label="anchor" href="#shapr-014"></a></h2><p class="text-muted">CRAN release: 2021-01-21</p>
<ul><li>Patch to fulfill CRAN policy of using packages under Suggests conditionally (in tests and examples)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.3" id="shapr-013">shapr 0.1.3<a class="anchor" aria-label="anchor" href="#shapr-013"></a></h2><p class="text-muted">CRAN release: 2020-09-03</p>
<ul><li>Fix installation error on Solaris</li>
<li>Updated README with CRAN installation instructions and badges</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.2" id="shapr-012">shapr 0.1.2<a class="anchor" aria-label="anchor" href="#shapr-012"></a></h2><p class="text-muted">CRAN release: 2020-09-03</p>
<ul><li>CRAN release</li>
<li>Removed unused clustering code</li>
<li>Removed several package dependencies</li>
<li>Moved automatic check and pkgdown site build from Circle CI to GitHub actions</li>
<li>Some minor efficiency fixes</li>
<li>Changed stopping threshold from 12 to 13 features for none-sampling version of KernelSHAP for consistency with our recommendation</li>
<li>Changed package title (shortened)</li>
<li>Minor fixes to fulfill CRAN policy</li>
<li>Improved documentation</li>
<li>Revised internal/external and exported/non-exported functions, leading to far fewer external functions and a cleaner manual.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="shapr-011">shapr 0.1.1<a class="anchor" aria-label="anchor" href="#shapr-011"></a></h2>
<ul><li>Journal of Open Source Software release</li>
<li>Improved installation instructions and community guidelines in README</li>
<li>Improved documentation</li>
<li>Some minor bugfixes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="shapr-010">shapr 0.1.0<a class="anchor" aria-label="anchor" href="#shapr-010"></a></h2>
<ul><li>Support for custom models</li>
<li>Improved documentation</li>
<li>Automated testing using <a href="https://github.com/r-lib/testthat" class="external-link">testthat</a>
</li>
<li>Added vignette that gives an introduction to the package</li>
<li>Added webpage for package using <a href="https://github.com/r-lib/pkgdown" class="external-link">pkgdown</a>
</li>
<li>Improved API for end user</li>
<li>Various bugfixes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9000" id="shapr-0009000">shapr 0.0.0.9000<a class="anchor" aria-label="anchor" href="#shapr-0009000"></a></h2>
<ul><li>First version of the package. Currently under development.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Jullum, Lars Henry Berge Olsen, Annabelle Redelmeier, Jon Lachmann, Nikolai Sellereite, Norsk Regnesentral.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

